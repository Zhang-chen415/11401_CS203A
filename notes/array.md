# Array (陣列)

陣列（Array）是最基本且應用最廣泛的線性資料結構。它是由一群**相同類型**的資料元素組成，並儲存在一段**連續的記憶體空間**中。

---

## 1. 儲存邏輯

陣列的特性在於「連續性」。當你宣告一個長度為 5 的整數陣列時，系統會分配足以容納 5 個整數的連續空間。

* **起始位址**：陣列第一個元素的記憶體位址。
* **偏移量**：透過索引 (Index) 計算目標位址。

$$\text{Address of } A[i] = \text{Base Address} + (i \times \text{Size of element})$$

為什麼陣列的存取速度極快，就是因為它可以透過公式直接計算出位址，而不像鏈結串列那樣逐一尋找。



---

## 2. 特性

1.  **索引**：通常從 `0` 開始（0-based indexing）。
2.  **固定大小**：傳統陣列在宣告後大小即不可變。
3.  **同質性**：陣列中的所有元素必須是相同的資料型別。

---

## 3. 時間複雜度分析 (Time Complexity)

| 操作 | 時間複雜度 | 說明 |
| :--- | :---: | :--- |
| **隨機存取 (Access)** | $O(1)$ | 知道索引後，可直接計算位址獲取。 |
| **搜尋 (Search)** | $O(n)$ | 最壞情況需檢查每一個元素（線性搜尋）。 |
| **插入 (Insertion)** | $O(n)$ | 若在中間插入，需將後方元素全部後移。 |
| **刪除 (Deletion)** | $O(n)$ | 移除元素後，需將後方元素全部前移。 |



---

## 4. 靜態陣列 vs 動態陣列

### 靜態陣列 (Static Array)
* 大小在編譯時或執行初始化時決定。
* 優點：記憶體開銷小，效率高。
* 缺點：靈活性差，容易溢位 (Overflow)。

### 動態陣列 (Dynamic Array)
* 如 C++ 的 `std::vector` 或 C# 的 `List<T>`。
* **運作原理**：當空間滿了，會自動申請一個原大小 **2 倍**的新空間，將舊資料搬過去。
* **均攤時間複雜度 (Amortized $O(1)$)**：雖然搬移是 $O(n)$，但發生頻率低，平均下來插入仍視為 $O(1)$。

---

## 5. 程式碼實作範例 (C++)

```cpp
#include <iostream>
using namespace std;

int main() {
    // 1. 宣告與初始化
    int array[5] = {10, 20, 30, 40, 50};

    // 2. 存取元素 O(1)
    cout << "Index 2 的值: " << array[2] << endl;

    // 3. 修改元素
    array[2] = 100;

    // 4. 遍歷陣列 O(n)
    for(int i = 0; i < 5; i++) {
        cout << "Element at index " << i << ": " << array[i] << endl;
    }

    return 0;
}
```
